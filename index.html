<!doctypehtml><html lang=en-us><head><meta charset=utf-8><meta content="text/html; charset=utf-8"http-equiv=Content-Type><meta content="width=device-width,initial-scale=1"name=viewport><title>Raylib Memory - Hard Mode</title><style>body{margin:0;padding:0;background-color:#111;color:#fff;font-family:sans-serif;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;overflow:hidden}#canvas{border-radius:4px;box-shadow:0 0 30px rgba(0,0,0,.6);image-rendering:pixelated;max-width:100%;max-height:100%}.spinner{height:30px;width:30px;margin:0 auto;animation:rotation .6s linear infinite;border-left:6px solid rgba(0,174,239,.15);border-right:6px solid rgba(0,174,239,.15);border-bottom:6px solid rgba(0,174,239,.15);border-top:6px solid rgba(0,174,239,.8);border-radius:100%;position:absolute;top:50%;left:50%;margin-top:-15px;margin-left:-15px;z-index:999}@keyframes rotation{from{transform:rotate(0)}to{transform:rotate(359deg)}}#leaderboard{position:absolute;top:20px;right:20px;background:rgba(0,0,0,.85);padding:15px;border-radius:8px;border:1px solid #00aeef;width:220px;box-shadow:0 0 10px rgba(0,0,0,.5);font-family:monospace;z-index:10}#leaderboard h3{margin:0 0 10px 0;color:#00aeef;text-align:center;font-family:sans-serif}#score-list{list-style:none;padding:0;margin:0}#score-list li{padding:6px;border-bottom:1px solid #444;display:flex;justify-content:space-between;color:#ccc;font-size:14px}#score-list li:last-child{border-bottom:none}.score-val{color:gold;font-weight:700}.score-label{font-size:10px;color:#666;vertical-align:middle;margin-left:4px}#input-modal{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);z-index:1000;align-items:center;justify-content:center;flex-direction:column}.modal-content{background:#222;padding:30px;border-radius:8px;border:2px solid #444;text-align:center;width:300px}.modal-content h2{margin-top:0;color:gold}#player-name-input{width:100%;padding:10px;margin-top:15px;font-size:18px;text-align:center;border:2px solid #444;border-radius:4px;background:#111;color:#fff;outline:0;transition:border-color .2s}#player-name-input.match{border-color:#2ecc71}#player-name-input.new{border-color:#e74c3c}#match-status{display:block;height:20px;margin-top:5px;font-size:12px;color:#888}.btn-submit{background:#00aeef;color:#fff;border:none;padding:10px 20px;font-size:16px;border-radius:4px;cursor:pointer;margin-top:15px;width:100%}.btn-submit:hover{background:#0095cc}</style></head><body><div id=spinner class=spinner></div><div id=leaderboard><h3>Best Moves</h3><ul id=score-list><li style=justify-content:center;color:#888>Loading...</li></ul></div><div id=input-modal><div class=modal-content><h2>You Won!</h2><div id=modal-score style=font-size:40px;color:#00aeef;font-weight:700>0</div><p>Moves</p><input autocomplete=off id=player-name-input maxlength=10 placeholder="Enter Name"> <span id=match-status></span> <button class=btn-submit onclick=submitScore()>Submit Score</button></div></div><canvas class=emscripten id=canvas oncontextmenu=event.preventDefault() tabindex=-1></canvas><script>var Module={print:function(e){console.log(e)},canvas:document.getElementById("canvas"),setStatus:function(e){e&&console.log("Status: "+e)},onRuntimeInitialized:function(){document.getElementById("spinner").style.display="none",document.getElementById("canvas").focus()}};const PRIVATE_KEY="FmD-OFRIfUiqAQRcOJfgIwXF4CTJUP2kyktm0h6ad4eQ",PUBLIC_KEY="692222898f40bb186436a661",BASE_URL="https://www.dreamlo.com/lb/";let playersCache={},currentPendingScore=0;function renderScores(){const e=document.getElementById("score-list");fetch(`${BASE_URL}${PUBLIC_KEY}/json-asc`).then((e=>e.json())).then((n=>{if(playersCache={},e.innerHTML="",!n.dreamlo.leaderboard)return void(e.innerHTML='<li style="color:#888;">No scores yet!</li>');let t=n.dreamlo.leaderboard.entry;Array.isArray(t)||(t=[t]),t.forEach((e=>{playersCache[e.name.toLowerCase()]=parseInt(e.score)}));t.slice(0,5).forEach(((n,t)=>{const a=document.createElement("li");a.innerHTML=`\n                        <span>#${t+1} ${n.name.substring(0,10)}</span> \n                        <div>\n                            <span class="score-val">${n.score}</span>\n                            <span class="score-label">moves</span>\n                        </div>\n                      `,e.appendChild(a)}))})).catch((n=>{console.error("Error:",n),e.innerHTML='<li style="color:red;">Offline</li>'}))}window.updateLeaderboard=function(e){currentPendingScore=e;const n=document.getElementById("input-modal"),t=document.getElementById("player-name-input");document.getElementById("modal-score").innerText=e;const a=localStorage.getItem("memory_game_name");a?(t.value=a,validateInput(a)):(t.value="",validateInput("")),n.style.display="flex",t.focus()};const nameInput=document.getElementById("player-name-input"),statusSpan=document.getElementById("match-status");function validateInput(e){const n=e.trim().toLowerCase();if(0===n.length)return nameInput.className="",void(statusSpan.innerText="");if(playersCache.hasOwnProperty(n)){nameInput.className="match",statusSpan.style.color="#2ecc71";const e=playersCache[n];statusSpan.innerText=currentPendingScore<e?`Existing Found. New Personal Best! (${e} â†’ ${currentPendingScore})`:`Existing Found. Best remains: ${e}`}else nameInput.className="new",statusSpan.style.color="#e74c3c",statusSpan.innerText="New Player Profile"}nameInput.addEventListener("keyup",(e=>{validateInput(e.target.value),"Enter"===e.key&&submitScore()})),window.submitScore=function(){let e=nameInput.value;if(!e)return;let n=e.replace(/[^a-zA-Z0-9]/g,"").substring(0,10);0===n.length&&(n="Guest"),localStorage.setItem("memory_game_name",n);const t=n.toLowerCase();let a=!0;if(playersCache.hasOwnProperty(t)){const e=playersCache[t];currentPendingScore>=e&&(a=!1,console.log("Score not improved. Skipping update."))}if(document.getElementById("input-modal").style.display="none",document.getElementById("canvas").focus(),a){const e=`${BASE_URL}${PRIVATE_KEY}/add/${n}/${currentPendingScore}/0`;fetch(`${BASE_URL}${PRIVATE_KEY}/delete/${n}`).then((n=>(n.ok||console.warn("Delete might have failed or name didn't exist, proceeding to add."),fetch(e)))).then((()=>{console.log("Score deleted and added successfully."),renderScores()})).catch((e=>console.error("Error updating score sequence:",e)))}else renderScores()},window.refreshLeaderboard=function(){renderScores()},renderScores()</script><script async src=index.js></script></body></html>